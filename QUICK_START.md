# âš¡ USIS Brain v4.0 - ä¸€å°æ—¶æŠ•äº§æ–¹æ¡ˆ

**çŠ¶æ€**: âœ… v4.0å·²éƒ¨ç½²ï¼Œå¯ç«‹å³ä½¿ç”¨  
**é£é™©**: ğŸŸ¢ æä½ï¼ˆv3.1å†·å¤‡2åˆ†é’Ÿå¯å›æ»šï¼‰  
**æ—¶é—´**: 5åˆ†é’Ÿå¯åŠ¨ + 30åˆ†é’ŸéªŒè¯

---

## ğŸš€ å¿«é€Ÿå¯åŠ¨ï¼ˆ5åˆ†é’Ÿï¼‰

### Step 1: å¥åº·æ£€æŸ¥
```bash
./health_check.sh
```

**é¢„æœŸç»“æœ**ï¼š
```
âœ… æœåŠ¡å™¨è¿›ç¨‹: è¿è¡Œä¸­
âœ… ç«¯å£3000: ç›‘å¬ä¸­
âœ… OPENAI_API_KEY: å·²è®¾ç½®
âœ… APIå“åº”: æ­£å¸¸
```

### Step 2: å¯åŠ¨å®æ—¶ç›‘æ§
```bash
./quick_monitor.sh
```

**å®æ—¶è¾“å‡º**ï¼ˆè‡ªåŠ¨æ›´æ–°ï¼‰ï¼š
```
è¯·æ±‚#    å“åº”æ—¶é—´      æˆæœ¬         çŠ¶æ€        é”™è¯¯ç‡
----------------------------------------------------------------
#1       5234ms      $0.0067     âœ… OK      0.00%
#2       4891ms      $0.0071     âœ… OK      0.00%
#3       6123ms      $0.0084     âœ… OK      0.00%
```

### Step 3: å‘é€æµ‹è¯•è¯·æ±‚
```bash
curl -X POST http://localhost:3000/api/analyze \
  -H "Content-Type: application/json" \
  -d '{
    "text": "AAPLæœ€è¿‘æœ‰å•¥æ–°é—»ï¼Ÿ",
    "chat_type": "private",
    "user_id": "test_user"
  }' | jq '.summary'
```

## ğŸ’¬ å¿«é€Ÿæµ‹è¯•ç¤ºä¾‹

### 1. ç›˜å‰åˆ†æ
```bash
curl -X POST http://localhost:3000/brain/orchestrate \
  -H "Content-Type: application/json" \
  -d '{
    "text": "ç›˜å‰çœ‹TSLA",
    "chat_type": "private",
    "user_id": "user123"
  }'
```

### 2. ç›˜ä¸­è¿½è¸ª
```bash
curl -X POST http://localhost:3000/brain/orchestrate \
  -H "Content-Type: application/json" \
  -d '{
    "text": "ç›˜ä¸­NVDAèµ°åŠ¿å¦‚ä½•",
    "chat_type": "group",
    "user_id": "user123"
  }'
```

### 3. ç›˜åå¤ç›˜
```bash
curl -X POST http://localhost:3000/brain/orchestrate \
  -H "Content-Type: application/json" \
  -d '{
    "text": "ä»Šå¤©æ”¶ç›˜å¤ç›˜AAPL",
    "chat_type": "private",
    "user_id": "user123"
  }'
```

## ğŸ¯ å…³é”®ç‰¹æ€§

| ç‰¹æ€§ | è¯´æ˜ |
|------|------|
| **6 AIååŒ** | Claude + DeepSeek + GPT-4 + Gemini + Perplexity + Mistral |
| **å®æ—¶æ•°æ®** | Finnhub (è¡Œæƒ…+æ–°é—») + Alpha Vantage (æŠ€æœ¯æŒ‡æ ‡) |
| **æ™ºèƒ½ç»¼åˆ** | è‡ªåŠ¨æå–å…³é”®ç‚¹ï¼Œè¯†åˆ«å…±è¯†/åˆ†æ­§ï¼Œç”Ÿæˆè¿è´¯æŠ¥å‘Š |
| **åœºæ™¯æ„ŸçŸ¥** | ç›˜å‰ç®€æ´(~300å­—)ã€ç›˜ä¸­ä¸­ç­‰(~500å­—)ã€ç›˜åæ·±åº¦(~800å­—) |
| **åŒè¾“å‡º** | ç§èŠæ¸©æš–é£æ ¼ / ç¾¤èŠä¸“ä¸šé£æ ¼ |
| **å“åº”é€Ÿåº¦** | 13-15ç§’å®Œæˆ6 AIåˆ†æ |

## ğŸ“ æ ¸å¿ƒç«¯ç‚¹

| ç«¯ç‚¹ | æ–¹æ³• | è¯´æ˜ |
|------|------|------|
| `/health` | GET | å¥åº·æ£€æŸ¥ |
| `/brain/intent` | POST | æ„å›¾è¯†åˆ« |
| `/brain/orchestrate` | POST | **å®Œæ•´AIåˆ†æ** â­ï¸ |
| `/brain/memory` | GET | æŸ¥çœ‹ç³»ç»Ÿè®°å¿† |
| `/img/imagine` | POST | å›¾åƒç”Ÿæˆ |
| `/social/twitter/search` | GET | Twitteræœç´¢ |

## ğŸ” å¿…éœ€çš„ç¯å¢ƒå˜é‡

ç¡®ä¿ä»¥ä¸‹å¯†é’¥å·²é…ç½®åœ¨ Replit Secrets:

**AIæ¨¡å‹ (6ä¸ª)**:
- `CLAUDE_API_KEY`
- `DEEPSEEK_API_KEY`
- `OPENAI_API_KEY`
- `GEMINI_API_KEY`
- `PERPLEXITY_API_KEY`
- `MISTRAL_API_KEY`

**æ•°æ®æº (2ä¸ª)**:
- `FINNHUB_API_KEY`
- `ALPHA_VANTAGE_API_KEY`

## ğŸš€ éƒ¨ç½²åˆ°ç”Ÿäº§

1. ç¡®ä¿æ‰€æœ‰APIå¯†é’¥å·²é…ç½®
2. å¯åŠ¨æœåŠ¡å™¨: `node index.js`
3. Replitä¼šè‡ªåŠ¨ç»‘å®šåˆ°å…¬ç½‘URL
4. åœ¨n8nä¸­é…ç½®webhookæŒ‡å‘ä½ çš„URL

## ğŸ“Š é¢„æœŸå“åº”æ—¶é—´

- æ„å›¾è¯†åˆ«: <100ms
- æ•°æ®é‡‡é›†: 1-2ç§’
- 6 AIåˆ†æ: 10-12ç§’ï¼ˆå¹¶è¡Œï¼‰
- æ™ºèƒ½ç»¼åˆ: 1-2ç§’
- **æ€»è®¡**: 13-15ç§’

## ğŸ¨ è¾“å‡ºé£æ ¼ç¤ºä¾‹

### ç§èŠé£æ ¼ (æ¸©æš–æ•™å¸ˆ)
```
ä½ çœ‹ï¼Œä»Šå¤©æˆ‘ä»¬æ¥èŠèŠè‹±ä¼Ÿè¾¾ï¼ˆNVDAï¼‰çš„ç›˜å‰åˆ†æã€‚
æ•´ä½“æ¥çœ‹ï¼Œå¸‚åœºæƒ…ç»ªç›¸å¯¹ç§¯æï¼Œå¤§å®¶å¯¹AIçš„çƒ­æƒ…ä¾ç„¶é«˜æ¶¨ ğŸ“ˆ

ä»æŠ€æœ¯é¢æ¥çœ‹ï¼ŒNVDAçš„è‚¡ä»·çŸ­æœŸå†…æœ‰éœ‡è¡ä¸Šè¡Œçš„è¶‹åŠ¿ã€‚
å°±åƒä½ åœ¨æ”€ç™»ä¸€åº§å±±ï¼Œè™½ç„¶æœ‰äº›é™¡å³­ï¼Œä½†è·¯é€”ä¾ç„¶å®½å¹¿ ğŸŒ„

ä¸è¿‡ï¼Œå’±ä»¬ä¹Ÿå¾—ä¿æŒè­¦æƒ•...
```

### ç¾¤èŠé£æ ¼ (ä¸“ä¸šå›¢é˜Ÿ)
```
ã€NVDA ç›˜å‰åˆ†æã€‘

æŠ€æœ¯é¢ï¼š
- MACDæŒ‡æ ‡æ˜¾ç¤ºåŠ¨èƒ½å›å‡
- RSIå¤„äºä¸­æ€§åŒºåŸŸ (50-60)
- çŸ­æœŸéœ‡è¡ä¸Šè¡Œè¶‹åŠ¿

åŸºæœ¬é¢ï¼š
- AIä¸šåŠ¡æŒç»­å¢é•¿
- GTCå¤§ä¼šä¸´è¿‘ï¼Œå¸‚åœºé¢„æœŸç§¯æ
- ä¼°å€¼åé«˜ï¼Œéœ€è­¦æƒ•å›è°ƒé£é™©

ç»¼åˆåˆ¤æ–­ï¼šBUY
å»ºè®®æ“ä½œï¼šç›˜å‰é€‚é‡å¢æŒï¼Œè®¾ç½®æ­¢æŸ
```

## ğŸ” è°ƒè¯•æŠ€å·§

```bash
# æŸ¥çœ‹æ„å›¾è¯†åˆ«æ˜¯å¦æ­£ç¡®
curl -X POST http://localhost:3000/brain/intent \
  -H "Content-Type: application/json" \
  -d '{"text":"ä½ çš„æµ‹è¯•æ–‡æœ¬"}'

# æŸ¥çœ‹ç³»ç»Ÿè®°å¿†å’Œç”¨æˆ·åå¥½
curl http://localhost:3000/brain/memory?limit=5

# æ£€æŸ¥æœåŠ¡å™¨æ—¥å¿—
# (åœ¨Replitæ§åˆ¶å°æŸ¥çœ‹)
```

## ğŸ¯ ä¸‹ä¸€æ­¥

å°†æ­¤ç³»ç»Ÿé›†æˆåˆ°ä½ çš„Telegram Botï¼š
1. åœ¨n8nä¸­åˆ›å»ºTelegram Webhook
2. æ·»åŠ HTTP RequestèŠ‚ç‚¹è°ƒç”¨ `/brain/orchestrate`
3. å°†å“åº”ä¸­çš„ `final_analysis` å‘é€å›Telegram

---

**å‡†å¤‡å¥½äº†å—ï¼Ÿå¼€å§‹ä½¿ç”¨å§ï¼** âœ¨
