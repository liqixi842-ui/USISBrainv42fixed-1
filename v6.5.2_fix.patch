--- a/index.js
+++ b/index.js
@@ -6342,10 +6342,14 @@
   }
   
   // ğŸ†• v6.0: è§£ç¥¨åŠŸèƒ½å¤„ç†å‡½æ•° (Ticket Analysis Handler) - è½»é‡çº§ç‰ˆæœ¬
-  async function handleTicketAnalysis({ symbol, mode, chatId }) {
+  // v6.5.2: æ”¯æŒå¯é€‰çš„ telegramAPI å’Œ botToken å‚æ•°ï¼ˆç”¨äº Manager Bot é›†æˆï¼‰
+  async function handleTicketAnalysis({ symbol, mode, chatId, telegramAPI: customTelegramAPI, botToken: customBotToken }) {
     let statusMsg = null;
     let t0 = null;
     
+    // ä½¿ç”¨ä¼ å…¥çš„ telegramAPI æˆ–é»˜è®¤çš„å…¨å±€ telegramAPI
+    const api = customTelegramAPI || telegramAPI;
+    const token = customBotToken || TELEGRAM_TOKEN;
     
     // ğŸ” è§£æç”¨æˆ·æ„å›¾ï¼šåŒè¯­ã€è§£æï¼ˆäººè¯ç‰ˆï¼‰
     const isBilingual = mode.includes('åŒè¯­');
@@ -6357,13 +6361,14 @@
     console.log(`   â”œâ”€ Bilingual: ${isBilingual}`);
     console.log(`   â”œâ”€ Human Voice: ${wantHuman}`);
     console.log(`   â””â”€ Using: generateStockChart (fast path)`);
+    console.log(`   â””â”€ Custom API: ${customTelegramAPI ? 'Yes (Manager Bot)' : 'No (Direct)'}`);
     console.log(`â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”\n`);
     
     try {
       // Send initial status message
-      statusMsg = await telegramAPI('sendMessage', {
+      statusMsg = await api('sendMessage', {
         chat_id: chatId,
-        text: `ğŸ¯ æ­£åœ¨è§£ç¥¨ ${symbol}\n\nâ³ æ­£åœ¨æŠ“å–æ•°æ®å’ŒæŠ€æœ¯åˆ†æ...\n\n(é¢„è®¡ 15-30 ç§’)`
+        text: `ğŸ¯ æ­£åœ¨è§£ç¥¨ ${symbol}\n\nâ³ æ­£åœ¨æŠ“å–æ•°æ®å’ŒæŠ€æœ¯åˆ†æ...\n\n(é¢„è®¡ 15-30 ç§’)`
       });
       
       // âœ… ä½¿ç”¨è½»é‡çº§è·¯å¾„ï¼šè°ƒç”¨ generateStockChart è€Œä¸æ˜¯é‡é‡çº§ç ”æŠ¥API
@@ -6390,14 +6395,14 @@
       console.log(`   â””â”€ Analysis length: ${ticketData.analysis.length} chars\n`);
       
       // Delete status message
-      await telegramAPI('deleteMessage', {
+      await api('deleteMessage', {
         chat_id: chatId,
         message_id: statusMsg.result.message_id
       });
       
       // å‘é€å›¾è¡¨ï¼ˆå¦‚æœæœ‰ï¼‰
       if (chartResult.buffer) {
         await sendDocumentBuffer(
-          TELEGRAM_TOKEN,
+          token,
           chatId,
           chartResult.buffer,
           `${symbol}_chart.png`,
@@ -6430,7 +6435,7 @@
         const msg = messages[i];
         console.log(`ğŸ“¤ [ä¸»Bot] å‘é€æ¶ˆæ¯ ${i + 1}/${messages.length}: ${msg.label} (${msg.text.length} chars)`);
         
-        await telegramAPI('sendMessage', {
+        await api('sendMessage', {
           chat_id: chatId,
           text: msg.text
         });
@@ -6454,7 +6459,7 @@
       // Delete status message if exists
       if (statusMsg?.result?.message_id) {
         try {
-          await telegramAPI('deleteMessage', {
+          await api('deleteMessage', {
             chat_id: chatId,
             message_id: statusMsg.result.message_id
           });
@@ -6478,7 +6483,7 @@
       
       errorMsg += `\n\n(è§£ç¥¨åŠŸèƒ½ v6.0 - æ¨¡å¼: ${mode})`;
       
-      await telegramAPI('sendMessage', {
+      await api('sendMessage', {
         chat_id: chatId,
         text: errorMsg
       });
@@ -7454,20 +7459,26 @@
   
   const researchBotTelegramAPI = createResearchBotTelegramAPI(RESEARCH_BOT_TOKEN);
   
-  // ğŸ”§ å¯¼å…¥è§£ç¥¨å’Œç ”æŠ¥å¤„ç†å‡½æ•°ï¼ˆv3_devç‰ˆæœ¬ï¼‰
-  const { handleTicketAnalysis: v3HandleTicketAnalysis } = require('./v3_dev/services/devBotHandler');
-  
-  // ğŸ¯ æ³¨å†Œå¤–éƒ¨å¤„ç†å™¨ï¼šè§£ç¥¨åŠŸèƒ½
+  // ğŸ¯ æ³¨å†Œå¤–éƒ¨å¤„ç†å™¨ï¼šè§£ç¥¨åŠŸèƒ½ï¼ˆv6.5.2: ä½¿ç”¨æ­£å¼ç‰ˆè½»é‡çº§å¿«é€Ÿè·¯å¾„ï¼‰
   async function handleTicketAnalysisWrapper({ symbol, mode, chatId }) {
-    console.log(`\nğŸ”€ [ManagerBot] Routing ticket analysis to Research Bot`);
+    console.log(`\nğŸ”€ [ManagerBot â†’ V3 Production] Routing ticket analysis to Research Bot`);
     console.log(`   â”œâ”€ Symbol: ${symbol}`);
     console.log(`   â”œâ”€ Mode: ${mode}`);
+    console.log(`   â”œâ”€ Endpoint: generateStockChart (FAST PATH - Production)`);
     console.log(`   â””â”€ Reply Token: RESEARCH_BOT_TOKEN (${RESEARCH_BOT_TOKEN.slice(0, 10)}...)`);
+    console.log('[MANAGER â†’ TICKET]', {
+      symbol,
+      mode,
+      endpoint: 'generateStockChart (Production v3 - Lightweight)'
+    });
     
-    // è°ƒç”¨ v3_dev çš„å®Œæ•´è§£ç¥¨åŠŸèƒ½ï¼Œä½¿ç”¨ RESEARCH_BOT_TOKEN å‘é€å›å¤
-    await v3HandleTicketAnalysis({
+    // âœ… è°ƒç”¨æ­£å¼ç‰ˆè½»é‡çº§è§£ç¥¨åŠŸèƒ½ï¼ˆ15-30ç§’ï¼Œä¸èµ° v3_dev é‡é‡çº§è·¯ç”±ï¼‰
+    // ä½¿ç”¨ index.js ç¬¬ 6345 è¡Œå®šä¹‰çš„æ­£å¼ç‰ˆ handleTicketAnalysis
+    await handleTicketAnalysis({
       symbol,
       mode,
       chatId,
       telegramAPI: researchBotTelegramAPI,
       botToken: RESEARCH_BOT_TOKEN
