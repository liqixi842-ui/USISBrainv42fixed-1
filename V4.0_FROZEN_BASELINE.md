# USIS Brain v4.0 ç¨³å®šåŸºçº¿å­˜æ¡£

ğŸ“… **å†»ç»“æ—¶é—´**: 2025-11-05 15:59 UTC  
ğŸ”’ **å†»ç»“çŠ¶æ€**: ç”Ÿäº§ç¯å¢ƒå·²é”å®šï¼Œç¦æ­¢ä¿®æ”¹

---

## ğŸ“¦ ç‰ˆæœ¬ä¿¡æ¯

| é¡¹ç›® | å€¼ |
|------|-----|
| ç³»ç»Ÿç‰ˆæœ¬ | v4.0 |
| Git Commit | `9f905661370f803dacb3bb3630aca285000a310a` |
| æœ€åä¿®æ”¹ | Add system status report (2025-11-05 15:17:44 UTC) |
| ä½œè€… | liqixi842 |
| éƒ¨ç½²å¹³å° | Google Cloud Run |
| å…¬ç½‘URL | https://node-js-liqixi842.replit.app |

---

## ğŸ§  æ ¸å¿ƒé…ç½®

```javascript
AIå¼•æ“: GPT-5 Mini (gpt-5-mini)
å­—æ•°é™åˆ¶: 800å­—ä»¥å†…
è¶…æ—¶è®¾ç½®: 90ç§’
Tokenä¸Šé™: 4000 max_completion_tokens
APIå‚æ•°: ä»…ä½¿ç”¨ max_completion_tokensï¼ˆä¸å«temperatureç­‰ï¼‰
```

---

## ğŸ“¡ APIæ¥å£

### ä¸»è¦ç«¯ç‚¹
```
POST /brain/orchestrate
Host: https://node-js-liqixi842.replit.app

Request Body:
{
  "text": "ç”¨æˆ·é—®é¢˜",
  "chat_type": "private",
  "user_id": "telegram_user_id",
  "budget": "low"
}

Response:
{
  "status": "ok",
  "final_text": "åˆ†æå†…å®¹ï¼ˆâ‰¤800å­—ï¼‰",
  "needs_heatmap": true/false,
  "heatmap_widget": "url",
  "model": "gpt-5-mini",
  "response_time_ms": 40000
}
```

### å¥åº·æ£€æŸ¥
```
GET /health
Response: {"status":"ok","ts":1762356269643}
```

---

## ğŸ”§ æŠ€æœ¯æ ˆ

| ç»„ä»¶ | ç‰ˆæœ¬/æŠ€æœ¯ |
|------|-----------|
| è¿è¡Œæ—¶ | Node.js |
| AIæ¨¡å‹ | GPT-5 Mini (gpt-5-mini) |
| æ•°æ®åº“ | PostgreSQL (Replitå†…ç½®) |
| æ•°æ®æº | Finnhub, FRED, SEC EDGAR |
| å›¾ç‰‡ç”Ÿæˆ | Replicate API |
| éƒ¨ç½² | Google Cloud Run |

---

## ğŸ¯ æ ¸å¿ƒIPæŠ€æœ¯

### 1. ImpactRankç®—æ³•
```
4ç»´æ–°é—»è¯„åˆ†ï¼š
- urgency (ç´§è¿«åº¦)
- relevance (ç›¸å…³åº¦)
- authority (æƒå¨æ€§)
- freshness (æ–°é²œåº¦)

è¯„åˆ†å…¬å¼ï¼šimpact_score = urgency Ã— relevance Ã— authority Ã— freshness
```

### 2. åç¼–é€ ç³»ç»Ÿï¼ˆ3å±‚ä¿æŠ¤ï¼‰
```
Layer 1: æ•°æ®éªŒè¯ï¼ˆå…¥å£æ£€æŸ¥ï¼‰
Layer 2: å¼ºåˆ¶æ•°æ®å¼•ç”¨ï¼ˆpromptçº¦æŸï¼‰
Layer 3: Compliance Guardï¼ˆè¾“å‡ºéªŒè¯ï¼‰
```

### 3. è¯­ä¹‰æ„å›¾ç†è§£
```
AIé©±åŠ¨çš„æ„å›¾è§£æï¼ˆéå…³é”®è¯åŒ¹é…ï¼‰
æ”¯æŒå…¨å±€è‚¡ç¥¨å‘ç°ï¼ˆå¤šè¯­è¨€ï¼‰
```

---

## ğŸ“Š æ€§èƒ½æŒ‡æ ‡

| æŒ‡æ ‡ | v3.1ï¼ˆ6AIæŠ•ç¥¨ï¼‰ | v4.0ï¼ˆGPT-5å•æ ¸ï¼‰ |
|------|----------------|-------------------|
| å“åº”æ—¶é—´ | 16ç§’ | 40ç§’ |
| Tokenæ¶ˆè€— | ~8000 | ~3700 |
| æˆæœ¬ä¼°ç®— | $0.06 | $0.0075 |
| æˆæœ¬é™ä½ | - | **â†“87%** |
| æ¶æ„å¤æ‚åº¦ | é«˜ï¼ˆ6ä¸ªAPIï¼‰ | ä½ï¼ˆ1ä¸ªAPIï¼‰ |

---

## ğŸ”’ å†»ç»“æªæ–½

### Replitåç«¯
- âœ… ç¦æ­¢ git commit/push
- âœ… ç¦æ­¢ä»£ç ä¿®æ”¹
- âœ… ç¦æ­¢é‡æ–°éƒ¨ç½²
- âœ… APIç»“æ„ä¿æŒä¸å˜
- âœ… ç¯å¢ƒå˜é‡ä¸å˜

### N8Nå·¥ä½œæµ
- âœ… ç¦æ­¢æ”¹èŠ‚ç‚¹ç»“æ„
- âœ… ç¦æ­¢æ”¹å˜é‡å/å­—æ®µ
- âœ… å…è®¸æ—¥å¿—æŸ¥çœ‹
- âœ… å…è®¸æ¶ˆæ¯å‘é€

### å…è®¸æ“ä½œ
- âœ… å¥åº·æ£€æŸ¥
- âœ… æ—¥å¿—æŸ¥çœ‹
- âœ… ç”¨æˆ·è¯·æ±‚å“åº”
- âœ… ç›‘æ§æ•°æ®æ”¶é›†

---

## ğŸ§ª éªŒè¯æµ‹è¯•

### æµ‹è¯•å‘½ä»¤
```bash
# å¥åº·æ£€æŸ¥
curl -s https://node-js-liqixi842.replit.app/health

# ç®€å•æµ‹è¯•
curl -X POST https://node-js-liqixi842.replit.app/brain/orchestrate \
  -H "Content-Type: application/json" \
  -d '{"text":"æµ‹è¯•","user_id":"test","chat_type":"private"}'
```

### é¢„æœŸå“åº”
- å¥åº·æ£€æŸ¥ï¼š`{"status":"ok","ts":...}`
- åˆ†æè¯·æ±‚ï¼š40ç§’å†…è¿”å›ï¼Œfinal_text â‰¤ 800å­—

---

## ğŸ“‹ ç¯å¢ƒå˜é‡ï¼ˆå·²é…ç½®ï¼‰

```bash
OPENAI_API_KEY=sk-proj-...       # GPT-5è®¿é—®å¯†é’¥
DATABASE_URL=postgres://...      # PostgreSQL
FINNHUB_API_KEY=...             # å®æ—¶è‚¡ç¥¨æ•°æ®
FRED_API_KEY=...                # å®è§‚ç»æµæ•°æ®
REPLICATE_API_TOKEN=...         # å›¾ç‰‡ç”Ÿæˆ
```

---

## ğŸ“ æ¶æ„æ¼”è¿›å†å²

```
v1.0: å•AIåŸºç¡€ç‰ˆ
  â†“
v2.0: å¤šæ•°æ®æºé›†æˆ
  â†“
v3.0: 6AIå¹¶è¡ŒæŠ•ç¥¨
  â†“
v3.1: æ™ºèƒ½æ„å›¾ç†è§£ + ImpactRank
  â†“
v4.0: GPT-5å•æ ¸ + 800å­—é™åˆ¶ â† å½“å‰å†»ç»“ç‰ˆæœ¬
```

---

## ğŸ¯ ä¸‹ä¸€æ­¥è§„åˆ’ï¼ˆå¾…è®¨è®ºï¼‰

### v4.1å€™é€‰æ–¹å‘
- æ€§èƒ½ä¼˜åŒ–ï¼ˆç¼©çŸ­å“åº”æ—¶é—´ï¼‰
- æµå¼è¾“å‡º
- ç¼“å­˜å¸¸è§æŸ¥è¯¢

### v4.2å€™é€‰æ–¹å‘
- å¤šæ¨¡å‹è‡ªåŠ¨é€‰æ‹©
- GPT-5 Mini + GPT-4o-mini fallback
- æˆæœ¬ä¼˜åŒ–ç­–ç•¥

### v4.3å€™é€‰æ–¹å‘
- ç¤¾äº¤æƒ…ç»ªåˆ†æ
- Redditèˆ†æƒ…èšåˆ
- Twitteræƒ…ç»ªè¿½è¸ª

---

## âœ… å†»ç»“ç¡®è®¤

```
å†»ç»“å£°æ˜: âœ… Replit å·²å†»ç»“ v4.0 ç¯å¢ƒ
ç‰ˆæœ¬å·: v4.0
Commit: 9f905661370f803dacb3bb3630aca285000a310a
å†»ç»“æ—¶é—´: 2025-11-05 15:59 UTC
ç¡®è®¤äºº: Replit Agent

æ­¤ç‰ˆæœ¬ä½œä¸ºv4.0ç¨³å®šåŸºçº¿ï¼Œä»»ä½•å‡çº§è‡³v4.1éœ€åŸºäºæ­¤å¿«ç…§è¿›è¡Œã€‚
```

---

**æ–‡æ¡£åˆ›å»º**: 2025-11-05  
**ç»´æŠ¤è€…**: ä¸ƒå–œ + GPT + Replit  
**çŠ¶æ€**: ğŸ”’ å·²é”å®šï¼Œä½œä¸ºåç»­å‡çº§åŸºå‡†
