ä½ ç°åœ¨æ‰§è¡Œ USIS Research Brain çš„ä¸‹ä¸€é˜¶æ®µå‡çº§ä»»åŠ¡ï¼š

ğŸ¯ ç›®æ ‡

åœ¨ v3-dev ç ”æŠ¥æµæ°´çº¿ä¸­æ–°å¢ï¼š

SellSideWriterï¼ˆå–æ–¹å†™ä½œå±‚ï¼‰

æŠŠ HistoryChartEngine ç”Ÿæˆçš„å›¾è¡¨çœŸæ­£åµŒå…¥ HTML/PDF æ¨¡æ¿ï¼Œå»æ‰ Placeholderã€‚

ä¸€ã€åˆ›å»º SellSideWriter æ¨¡å—
1ï¼‰æ–°å»ºæ¨¡å—æ–‡ä»¶

è¯·åœ¨ v3_dev ä¸­åˆ›å»ºï¼š

v3_dev/services/sellSideWriter.js

èŒè´£ï¼š
åŸºäº å·²ç»å‡†å¤‡å¥½çš„ç»“æ„åŒ–æ•°æ®ï¼ˆFinancialDataBroker + multi-model outputï¼‰ï¼Œç”Ÿæˆâ€œæœºæ„çº§ã€å–æ–¹é£æ ¼â€çš„æ®µè½æ–‡æœ¬ï¼Œè€Œä¸æ˜¯æ¨¡æ¿çå†™ã€‚

2ï¼‰è¾“å…¥ / è¾“å‡ºçº¦å®š

è¾“å…¥å»ºè®®é‡‡ç”¨å½“å‰ report ä¸»å¯¹è±¡çš„ä¸€ä¸ªç®€åŒ–è§†å›¾ï¼Œä¾‹å¦‚ï¼š

async function enhanceReportWithSellSideTone(report) {
  // report åŒ…å«ï¼š
  // - symbol, price, target, upside
  // - keyMetrics (PE, PS, margins, ROE, ROA)
  // - financials (revenue_ttm, eps_ttm, CAGR)
  // - history (revenue_5y, eps_5y)
  // - peerComparison
  // - scenarios (bull/base/bear)
  // - aiDraftTexts (å„æ¨¡å‹åŸå§‹è‰ç¨¿ï¼Œå¯é€‰)
}


è¾“å‡ºï¼š

è¿”å›ä¸€ä¸ª æ–°çš„ report æ–‡æœ¬å¯¹è±¡ï¼Œè‡³å°‘è¦†ç›–ä»¥ä¸‹æ®µè½å­—æ®µï¼š

investmentThesis

companyOverview

industryAndMacro

valuationCommentary

peerComparisonCommentary

financialHealthSummary

keyCatalystsText

keyRisksText

technicalAnalysisText

investmentStrategyText

analystViewText

è¦æ±‚ï¼š

æ¯ä¸€æ®µéƒ½è¦â€œæ‹¿æ•°æ®è¯´è¯â€ï¼š

æ˜ç¡®å¼•ç”¨ PEã€PSã€marginã€CAGRã€ç›®æ ‡ä»·ã€ä¸Šè¡Œç©ºé—´ç­‰

ç¦æ­¢ä½¿ç”¨â€œhuge / massive / very strong / extremely goodâ€è¿™ç±»æ°´è¯

ä½¿ç”¨â€œå–æ–¹è¯­æ°”â€ï¼Œä¾‹å¦‚ï¼š

â€œwe seeâ€, â€œwe believeâ€, â€œwe thinkâ€, â€œour base case assumesâ€¦â€

é¿å…â€œçº¯ chatGPT å£æ°´å¥â€

åˆ é™¤æˆ–æ”¹å†™æ‰€æœ‰å†…éƒ¨å­—çœ¼ï¼š

ä¸å†å‡ºç° â€œDeepSeekâ€™s modelâ€¦â€, â€œour AI engine saysâ€¦â€

å¯ä»¥å†…éƒ¨è°ƒç”¨ä½ ç°æœ‰çš„å¤šæ¨¡å‹ pipelineï¼Œä½†æœ€ç»ˆç”±ä¸€ä¸ªç»Ÿä¸€çš„ SellSideWriter.enhance() è¾“å‡ºä¸€ç‰ˆå¹²å‡€æ–‡æœ¬ã€‚

3ï¼‰å¤šæ¨¡å‹åä½œå»ºè®®ï¼ˆå¯å¤ç”¨ï¼‰

å¦‚æœ‰éœ€è¦ï¼Œå¯åœ¨æ¨¡å—å†…å®ç°ç±»ä¼¼ï¼š

// pseudo
draftFromGPT = callLLM('gpt', structuredDataPrompt)
draftFromClaude = callLLM('claude', structuredDataPrompt)
merged = mergeAndRefine(draftFromGPT, draftFromClaude, metrics)
return merged


ä½†è¯·ç¡®ä¿ï¼š

æœ€ç»ˆè¾“å‡ºçš„æ®µè½ä¸€å®šæ˜¯åŸºäº report.metrics / report.financials / report.historyï¼Œè€Œä¸æ˜¯æ¨¡å‹éšä¾¿ç¼–æ•°å­—ã€‚

äºŒã€åœ¨ reportService ä¸­æ¥å…¥ SellSideWriter

åœ¨ v3_dev/services/reportService.js ä¸­ï¼š

åœ¨å®Œæˆæ•°æ®å¡«å……ï¼ˆFinancialDataBrokerï¼‰å’Œåœºæ™¯æ„å»ºä¹‹åã€TasteTruthLayer ä¹‹å‰ï¼Œæ’å…¥ä¸€å±‚ï¼š

const sellSideReport = await SellSideWriter.enhanceReportWithSellSideTone(report);
const refinedTexts = await TasteTruthLayer.process(sellSideReport);


ç¡®ä¿ TasteTruthLayer å¤„ç†çš„æ˜¯ SellSideWriter è¾“å‡ºçš„æ–‡æœ¬ï¼ˆè¿›ä¸€æ­¥å»é‡/æ¸…æ´—ï¼‰ã€‚

åœ¨ debug è¾“å‡ºä¸­å¢åŠ ï¼š

[SellSideWriter] enabled
[SellSideWriter] sections rewritten: InvestmentThesis, CompanyOverview, ...

ä¸‰ã€å°†å›¾è¡¨åµŒå…¥ HTML/PDF æ¨¡æ¿

ç›®å‰ HistoryChartEngine å·²æˆåŠŸç”Ÿæˆï¼š

revenue_5y_chart_url

eps_5y_chart_url

combined_trend_chart_url

ä½†åœ¨æŠ¥å‘Šé‡Œä»æ˜¾ç¤ºä¸ºâ€œPlaceholderâ€ã€‚

è¯·åœ¨ HTML æ¨¡æ¿ / PDF æ¸²æŸ“å±‚åšä»¥ä¸‹ä¿®æ”¹ï¼ˆè·¯å¾„æŒ‰å½“å‰é¡¹ç›®çœŸå®ä½ç½®æ¥ï¼Œä¾‹å¦‚ v3_dev/templates/report.html or v3_dev/views/report.ejsï¼‰ï¼š

æ‰¾åˆ° â€œFinancial Trends / Revenue Last 5 Years / EPS Last 5 Yearsâ€ åŒºåŸŸï¼ŒæŠŠï¼š

Revenue Chart Placeholder (Historical data: 5 years)
EPS Chart Placeholder (Historical data: 5 years)


æ›¿æ¢ä¸ºï¼š

<img src="{{revenue_5y_chart_url}}" alt="Revenue last 5 years" />
<img src="{{eps_5y_chart_url}}" alt="EPS last 5 years" />


å¦‚æœ‰ combined chartï¼Œä¹Ÿå¯åœ¨é™„å½•æˆ– Financial Trends éƒ¨åˆ†åŠ ä¸€å¼ ï¼š

<img src="{{combined_trend_chart_url}}" alt="Revenue & EPS trend (5Y)" />


ç¡®ä¿ DocRaptor èƒ½æ­£ç¡®ä¸‹è½½è¿™äº›å›¾è¡¨ URLï¼ˆå¦‚éœ€ï¼Œå°† QuickChart URL è®¾ä¸º HTTPS å¹¶å¯å…¬ç½‘è®¿é—®ï¼‰ã€‚

å¦‚æœæŸä¸ªå›¾è¡¨ URL ä¸º nullï¼Œåˆ™æ˜¾ç¤ºä¸€ä¸ªç®€çŸ­æ–‡å­—ï¼š
â€œHistorical chart currently unavailableâ€
ä¸è¦å†ç”¨ Placeholderã€‚

å››ã€å®Œæˆåè¯·è¾“å‡ºç¡®è®¤

é›†æˆå®Œæˆåï¼Œè¯·åœ¨æ—¥å¿—å’Œå¯¹è¯ä¸­è¾“å‡ºä¸€å¥è¯ï¼š

SellSideWriter integrated + charts embedded. Ready for new NVDA institutional-style report test.


ä¸è¦åœ¨è¿™ä¸€é˜¶æ®µè°ƒæ•´ PDF å°é¢ç»“æ„ï¼Œä¹Ÿä¸è¦æ”¹åŠ¨ç°æœ‰è·¯ç”±ã€‚
æœ¬ä»»åŠ¡åªå…³æ³¨ï¼š

å–æ–¹å†™ä½œå±‚

å›¾è¡¨çœŸæ­£åµŒå…¥