# 🔄 项目状态看板

## 当前迭代：稳定性修复

**技术架构师**：DeepSeek  
**代码执行者**：ReplitGPT  
**运行环境**：Replit (Node.js 20)

---

## 🚨 紧急问题

### 1. 热力图生成后进程崩溃
- **症状**：n8n webhook调用后应用停止运行
- **已验证工作**：消息接收 → 解析 → URL生成 → webhook调用发送
- **失败点**：等待n8n响应或发送Telegram文档时进程停止

### 2. 消息卡顿
- **表现**：Telegram消息处理延迟
- **可能原因**：同步处理阻塞事件循环

### 3. 无记忆系统
- **现状**：每次重启后丢失对话历史
- **需求**：持久化用户偏好和历史对话

---

## 📋 任务队列

- [ ] 热力图超时控制
- [ ] 错误恢复机制  
- [ ] 消息队列系统
- [ ] 进程保活机制
- [ ] 记忆系统实现

---

## 📊 系统状态

**当前版本**：USIS Brain v5.0  
**核心技术栈**：
- Express.js HTTP服务器（端口5000）
- Telegraf (Telegram Bot)
- n8n webhook集成
- PostgreSQL数据库

**运行状态**：🔴 不稳定（进程崩溃问题）

---

## 🔧 技术约束

- Replit平台：必须维持HTTP服务器运行
- 超时限制：30秒无响应会被SIGTERM杀死
- n8n webhook：响应时间6-10秒
- Telegram API：手动轮询模式（不能用bot.launch()）

---

## 📝 工作流程

```
用户 → 转发DeepSeek技术方案 → ReplitGPT执行 → 用户测试 → 反馈DeepSeek
```

**所有技术方案由DeepSeek提供，ReplitGPT负责代码实现**

---

最后更新：2025-11-06
